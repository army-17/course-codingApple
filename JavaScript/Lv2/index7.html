<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Lv2 7일차</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/index7.css">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script> 
</head>
<body>

    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
            <span class="navbar-brand">JSShop</span>
            <span class="badge bg-dark">Dark 🔄</span>
            <button class="navbar-toggler" type="button">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div style="height: 3000px"></div>


    <div class="lorem" style="width: 200px; height: 100px; overflow-y: scroll;">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. 
        Quae voluptas voluptatum minus praesentium fugit debitis at, laborum ipsa 
        itaque placeat sit, excepturi eius. Nostrum perspiciatis, eligendi quae 
        consectetur praesentium exercitationem.</div>


    <script>
        
        

        window.addEventListener('scroll', function(){
            // window는 그냥 html 페이지를 뜻함
             
            // console.log(window.scrollY);
            // console.log(window.pageYOffset);
            
            // window.scrollTo(0, 900);
            // 페이지의 첫 부분에서 해당 위치로 강제 스크롤바 이동시키기
           
        
        })

        // window.scrollBy(0, 100);
        // window.scrollBy(x, y); -> 현재 위치에서 해당 위치로 스크롤하기


        /**** jQuery 버전 ****/
        // $(window).on('scroll', function(){

        //      console.log("위치" + $(window).scrollTop());
        //      $(window).scrollTop(200);

        // })



        /***************************************************************************************************************************************/
        // HW 1 : 스크롤바 100px 내리면 로고 폰트 사이즈 작게 만들기
        window.addEventListener('scroll', function(){
            console.log("스크롤 위치 : " + window.scrollY);
        
            if(window.scrollY > 100) {
                $('.navbar-brand').css("font-size", "10px");
            } else {
                $('.navbar-brand').css("font-size", "30px");
            }

        })




        // HW 2 : 회원약관 페이지와 같이, 스크롤 다 내렸을 경우 alert창 띄우기
        // div의 스크롤바 내린 양 + 100(div 박스의 눈에 보이는 height값) == div의 실제 높이 ('==' 사용할 경우, 오차 생길 가능성 있음)
        
        $('.lorem').on('scroll', function(){

            let scrollAmount = document.querySelector('.lorem').scrollTop;
            let divHeight = document.querySelector('.lorem').clientHeight;

            let allAmount = document.querySelector('.lorem').scrollHeight;
            console.log("scrollAmount : " + scrollAmount + "/ divHeight : " + divHeight);  

            if( scrollAmount + divHeight > allAmount - 5) {
                alert('다 읽었다.');
            }



        })






















        // $('.lorem').on('scroll', function(){
            
        //     var 스크롤양 = document.querySelector('.lorem').scrollTop;
        //     var 실제높이 = document.querySelector('.lorem').scrollHeight;
        //     var 높이 = document.querySelector('.lorem').clientHeight;

        //     console.log("스크롤양 " + 스크롤양 + "/실제높이 "+ 실제높이 + "/div 높이" + 높이);

        //     if(스크롤양 + 높이 == 실제높이) {
        //         alert("다 읽었다.");
        //     }
        // })
        

        

    </script>
    
</body>
</html>